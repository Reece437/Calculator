{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { styles } from \"./styles.tsx\";\nimport * as Haptics from 'expo-haptics';\nimport Maths from \"./maths.tsx\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar trigMode = 'Deg';\nvar maths = new Maths(trigMode);\n\nvar App = function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      ANS: null,\n      ansArr: [],\n      inv: false,\n      render: false,\n      firstRound: 10,\n      current: '',\n      answer: '',\n      map: {\n        '--': '+',\n        '++': '+',\n        'sin(': '* maths.sin(',\n        'cos(': '* maths.cos(',\n        'tan(': '* maths.tan(',\n        'sin-1(': '* maths.sinInv(',\n        'cos-1(': '* maths.cosInv(',\n        'tan-1(': '* maths.tanInv(',\n        '÷': '/',\n        'log': '* maths.log',\n        'ln': '* maths.ln',\n        '√': '* Math.sqrt',\n        '×': '* ',\n        'e': '* Math.E * ',\n        'π': '* Math.PI * ',\n        ',': '',\n        '%': '/100 *',\n        'ANS': 'this.state.ANS'\n      },\n      opers: ['+', '×', '÷', '(', 'MOD'],\n      inner: ['log', 'ln', 'sin', 'cos', 'tan', '√', '%'],\n      errorNames: ['undefined', 'Syntax Error', 'Math Error', 'NaN']\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"touch\",\n    value: function touch(stylesButton, stylesText, innerText, command) {\n      var _this2 = this;\n\n      return _jsx(TouchableOpacity, {\n        style: stylesButton,\n        onPress: function onPress() {\n          Platform.OS != 'web' ? Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light) : null;\n\n          _this2.appNum(command);\n        },\n        children: _jsx(Text, {\n          style: stylesText,\n          children: innerText\n        })\n      });\n    }\n  }, {\n    key: \"factorial\",\n    value: function factorial(x) {\n      x = parseFloat(x);\n      if (x > 170 || !Number.isInteger(x)) return 'undefined';else if (x == 0 || x == 1) return 1;\n      var isNegative = 1;\n      if (x < 0) isNegative = -1;\n\n      for (var i = x - 1; i > 1; i--) {\n        x *= i;\n      }\n\n      return x * isNegative;\n    }\n  }, {\n    key: \"appNum\",\n    value: function appNum(x) {\n      if (this.state.current == '' && (x == '!' || x == '%')) return;\n      if (this.state.current == '' && this.state.opers.includes(x) && x != '(' || this.state.errorNames.includes(this.state.current)) return;\n\n      if (!isNaN(parseFloat(x)) && this.state.current.slice(-1) == '0' && isNaN(parseFloat(this.state.current[this.state.current.length - 2])) && this.state.current[this.state.current.length - 2] != '.') {\n        this.setState({\n          current: this.state.current.slice(0, -1) + x.toString()\n        });\n        this.compute(this.state.current.slice(0, -1) + x.toString());\n        return;\n      }\n\n      if (x == '.') {\n        if (this.state.current == '' || this.state.opers.includes(this.state.current.slice(-1)) || this.state.current.slice(-1) == '-') {\n          this.setState({\n            current: this.state.current + '0.'\n          });\n          this.compute(this.state.current + '0.');\n          return;\n        } else {\n          var len = this.state.current.length;\n\n          for (var i = len; i >= 0; i--) {\n            if (this.state.opers.includes(this.state.current[i]) || this.state.current[i] == '-') break;else if (this.state.current[i] == '.') return;\n          }\n        }\n      }\n\n      if (this.state.opers.includes(this.state.current.slice(-1)) && this.state.opers.includes(x)) return;else if ((this.state.opers.includes(x) || x == '-') && this.state.current.slice(-2) == '--') return;else {\n        this.setState({\n          current: this.state.current + x.toString()\n        });\n        this.compute(this.state.current + x.toString());\n      }\n    }\n  }, {\n    key: \"com\",\n    value: function com(num) {\n      if (isNaN(num) || num == '' || num.includes('e+') || num.includes('e-')) {\n        return num;\n      }\n\n      if (num.includes('.')) {\n        var firstHalf = num.split('.')[0].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n        var secondHalf = num.split('.')[1];\n        return firstHalf + \".\" + secondHalf;\n      } else {\n        return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n      }\n    }\n  }, {\n    key: \"comNums\",\n    value: function comNums(eq) {\n      eq = eq.replace(/,/g, '');\n      var num = '';\n      var len = eq.length;\n\n      for (var i = 0; i < len; i++) {\n        if (Number.isInteger(parseFloat(eq[i]))) {\n          num += eq[i];\n\n          for (var j = 1; j < len; j++) {\n            if (Number.isInteger(parseInt(eq[i + j])) || eq[i + j] == '.') {\n              num += eq[i + j];\n            } else break;\n          }\n\n          eq = eq.replace(num, this.com(num));\n          i += num.length + Math.floor(num.length / 4);\n          num = '';\n        }\n      }\n\n      return eq;\n    }\n  }, {\n    key: \"inverse\",\n    value: function inverse() {\n      var array = this.state.inner;\n\n      for (var i = 0; i < this.state.inner.length; i++) {\n        switch (array[i]) {\n          case 'sin':\n          case 'cos':\n          case 'tan':\n            array[i] += '-1';\n            break;\n\n          case 'sin-1':\n          case 'cos-1':\n          case 'tan-1':\n            array[i] = array[i].slice(0, -2);\n            break;\n\n          case 'log':\n            array[i] = '10^';\n            break;\n\n          case '10^':\n            array[i] = 'log';\n            break;\n\n          case 'ln':\n            array[i] = 'e^';\n            break;\n\n          case 'e^':\n            array[i] = 'ln';\n            break;\n\n          case '√':\n            array[i] = '^2';\n            break;\n\n          case '^2':\n            array[i] = '√';\n            break;\n\n          case '%':\n            array[i] = 'MOD';\n            break;\n\n          default:\n            array[i] = '%';\n            break;\n        }\n      }\n\n      this.setState({\n        inner: array\n      });\n    }\n  }, {\n    key: \"radOrDeg\",\n    value: function radOrDeg() {\n      trigMode = trigMode == 'Deg' ? 'Rad' : 'Deg';\n      maths = new Maths(trigMode);\n      this.compute(this.state.current);\n    }\n  }, {\n    key: \"reverseString\",\n    value: function reverseString(eq) {\n      var New = '';\n      var len = eq.length - 1;\n\n      for (var i = len; i >= 0; i--) {\n        New += eq[i];\n      }\n\n      return New;\n    }\n  }, {\n    key: \"change\",\n    value: function change(eq) {\n      eq = this.bigReplace(eq);\n\n      while (eq.includes('* *')) {\n        eq = eq.replace('* *', '*');\n      }\n\n      var nums;\n      var allow = ['e', '+', '-', '.', 'E'];\n\n      while (eq.includes('!') || eq.includes('%')) {\n        var len = eq.length;\n\n        for (var i = 0; i < len; i++) {\n          if (eq[i] == '!') {\n            nums = '';\n\n            for (var x = 1; x <= i; x++) {\n              if (isNaN(parseInt(eq[i - x])) && !allow.includes(eq[i - x])) {\n                break;\n              }\n\n              nums += eq[i - x];\n            }\n\n            nums = this.reverseString(nums);\n            eq = eq.replace(nums + '!', this.factorial(nums));\n            break;\n          }\n        }\n      }\n\n      eq = eq.replace(/MOD/g, '%');\n\n      for (var _i = 0; _i < eq.length; _i++) {\n        if (eq[_i] == '*') {\n          if (this.state.opers.includes(eq[_i - 1]) && eq[_i - 1] != '*' || _i == 0) {\n            eq = eq.slice(0, _i) + eq.slice(_i + 1);\n          } else if (this.state.opers.includes(eq[_i + 1]) && eq[_i + 1] != '(' && eq[_i + 1] != '*') {\n            eq = eq.slice(0, _i) + eq.slice(_i + 1);\n          }\n        } else if (eq[_i] == '(') {\n          if (!isNaN(eq[_i - 1])) {\n            eq = eq.slice(0, _i) + '* (' + eq.slice(_i + 1);\n            _i += 3;\n          }\n        } else if (eq[_i] == ')') {\n          if (!isNaN(eq[_i - 1]) && eq[_i]) {\n            eq = eq.slice(0, _i) + ') *' + eq.slice(_i + 1);\n            _i += 3;\n          }\n        }\n      }\n\n      if (eq.slice(-1) == '*') eq = eq.slice(0, -1);\n      if (eq.slice(-2) == '* ') eq = eq.slice(0, -2);\n\n      while (eq.includes('***') || eq.includes('(*') || eq.includes('* /*')) {\n        eq = eq.replace('***', '**');\n        eq = eq.replace('(*', '(');\n        eq = eq.replace('* /*', '/');\n      }\n\n      eq = eq.replace('^', '**');\n      alert(eq);\n      return eq;\n    }\n  }, {\n    key: \"bigReplace\",\n    value: function bigReplace(eq) {\n      var New = eq;\n\n      for (var value in this.state.map) {\n        if (!this.state.map.hasOwnProperty(value)) continue;\n        New = New.split(value).join(this.state.map[value]);\n      }\n\n      return New;\n    }\n  }, {\n    key: \"AC\",\n    value: function AC() {\n      this.setState({\n        current: '',\n        answer: ''\n      });\n    }\n  }, {\n    key: \"DEL\",\n    value: function DEL() {\n      if (this.state.errorNames.includes(this.state.current)) AC();else {\n        this.setState({\n          current: this.state.current.slice(0, -1)\n        });\n        this.compute(this.state.current.slice(0, -1));\n      }\n    }\n  }, {\n    key: \"showAdv\",\n    value: function showAdv() {\n      this.setState({\n        render: !this.state.render\n      });\n      this.setState({\n        firstRound: this.state.firstRound == 10 ? 0 : 10\n      });\n    }\n  }, {\n    key: \"ans\",\n    value: function ans(eq) {\n      this.setState({\n        ANS: eq\n      });\n      var array = this.state.ansArr;\n      array.push(this.state.current);\n      this.setState({\n        ansArr: array\n      });\n    }\n  }, {\n    key: \"compute\",\n    value: function compute(current) {\n      var eq = this.change(current);\n\n      if (eq == 'undefined') {\n        this.setState({\n          answer: ''\n        });\n        return;\n      }\n\n      while (eq.split('(').length > eq.split(')').length) {\n        eq += ')';\n      }\n\n      try {\n        eq = eval(eq).toString();\n\n        if (eq == 'undefined') {\n          this.setState({\n            answer: eq\n          });\n          this.setState({\n            current: this.comNums(current)\n          });\n          return;\n        }\n\n        eq = Number(eq).toPrecision().toString();\n\n        if (eq.includes('.') && eq.split('.')[1].length > 11) {\n          var secondHalf = eq.split('.')[1];\n          eq = parseFloat(eq).toFixed(13);\n          eq = eq.toString();\n\n          while ((eq.slice(-1) == '0' || eq.slice(-1) == '.') && eq.length > 1) {\n            eq = eq.slice(0, -1);\n          }\n        }\n\n        if (eq == 'NaN' || eq.includes('function')) {\n          this.setState({\n            answer: ''\n          });\n          this.setState({\n            current: this.comNums(current)\n          });\n        } else {\n          this.setState({\n            answer: this.com(eq).replace('e+', 'E+').replace('e-', 'E-')\n          });\n          this.setState({\n            current: this.comNums(current)\n          });\n        }\n      } catch (err) {\n        if (!this.state.opers.includes(current.slice(-1))) {\n          this.setState({\n            answer: ''\n          });\n        }\n      }\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(eq) {\n      while (eq.split('(').length > eq.split(')').length) {\n        eq += ')';\n      }\n\n      if (eq == '') return;else {\n        try {\n          if (this.state.answer == '') eval(this.change(eq));\n          this.setState({\n            current: this.state.answer\n          });\n          this.setState({\n            answer: ''\n          });\n          this.ans(this.state.answer);\n        } catch (err) {\n          this.setState({\n            current: 'Syntax Error'\n          });\n          this.setState({\n            answer: ''\n          });\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return _jsx(LinearGradient, {\n        colors: ['#43c6ac', '#191654'],\n        style: styles.gradient,\n        start: [0.0, 0.5],\n        end: [1.0, 0.5],\n        children: _jsxs(View, {\n          style: styles.container,\n          children: [_jsxs(View, {\n            style: styles.screen,\n            children: [_jsx(Text, {\n              style: styles.answer,\n              children: this.state.answer\n            }), _jsx(Text, {\n              style: styles.current,\n              children: this.state.current\n            })]\n          }), _jsxs(View, {\n            style: styles.row,\n            children: [_jsx(TouchableOpacity, {\n              style: styles.span2,\n              onPress: function onPress() {\n                Platform.OS != 'web' ? Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light) : null;\n\n                _this3.AC();\n              },\n              children: _jsx(Text, {\n                style: styles.text,\n                children: \"AC\"\n              })\n            }), _jsx(TouchableOpacity, {\n              style: styles.button,\n              onPress: function onPress() {\n                Platform.OS != 'web' ? Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light) : null;\n\n                _this3.DEL();\n              },\n              children: _jsx(Text, {\n                style: styles.text,\n                children: \"DEL\"\n              })\n            }), this.touch(styles.button, styles.text, '×', '×')]\n          }), _jsxs(View, {\n            style: styles.row,\n            children: [this.touch(styles.button, styles.text, '1', 1), this.touch(styles.button, styles.text, '2', 2), this.touch(styles.button, styles.text, '3', 3), this.touch(styles.button, styles.text, '+', '+')]\n          }), _jsxs(View, {\n            style: styles.row,\n            children: [this.touch(styles.button, styles.text, '4', 4), this.touch(styles.button, styles.text, '5', 5), this.touch(styles.button, styles.text, '6', 6), this.touch(styles.button, styles.text, '-', '-')]\n          }), _jsxs(View, {\n            style: styles.row,\n            children: [this.touch(styles.button, styles.text, '7', 7), this.touch(styles.button, styles.text, '8', 8), this.touch(styles.button, styles.text, '9', 9), this.touch(styles.button, styles.text, '÷', '÷')]\n          }), _jsxs(View, {\n            style: styles.row,\n            children: [this.touch([styles.button, {\n              borderBottomLeftRadius: this.state.firstRound\n            }], styles.text, '.', '.'), this.touch(styles.button, styles.text, '0', 0), _jsx(TouchableOpacity, {\n              style: [styles.span2, {\n                borderBottomRightRadius: this.state.firstRound\n              }],\n              onPress: function onPress() {\n                _this3.equals(_this3.state.current);\n\n                Platform.OS != 'web' ? Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light) : null;\n              },\n              onLongPress: function onLongPress() {\n                return _this3.showAdv();\n              },\n              children: _jsx(Text, {\n                style: styles.text,\n                children: \"=\"\n              })\n            })]\n          }), this.state.render ? _jsxs(View, {\n            style: styles.row,\n            children: [this.touch(styles.small, styles.textSmall, '(', '('), this.touch(styles.small, styles.textSmall, ')', ')'), this.touch(styles.small, styles.textSmall, this.state.inner[0], this.state.inner[0] == 'log' ? 'log(' : '10^'), this.touch(styles.small, styles.textSmall, this.state.inner[1], this.state.inner[1] == 'ln' ? 'ln(' : 'e^'), this.touch(styles.small, styles.textSmall, this.state.inner[2], this.state.inner[2] + '('), this.touch(styles.small, styles.textSmall, this.state.inner[3], this.state.inner[3] + '('), this.touch(styles.small, styles.textSmall, this.state.inner[4], this.state.inner[4] + '('), this.touch(styles.small, styles.textSmall, this.state.inner[5], this.state.inner[5] == '√' ? '√(' : '^2')]\n          }) : null, this.state.render ? _jsxs(View, {\n            style: styles.row,\n            children: [this.touch([styles.small, {\n              borderBottomLeftRadius: 10\n            }], styles.textSmall, '^', '^'), this.touch(styles.small, styles.textSmall, 'π', 'π'), this.touch(styles.small, styles.textSmall, 'e', 'e'), this.touch(styles.small, styles.textSmall, '!', '!'), this.touch(styles.small, styles.textSmall, this.state.inner[6], this.state.inner[6] == '%' ? '%' : 'MOD'), this.touch(styles.small, styles.textSmall, 'ANS', 'ANS'), _jsx(TouchableOpacity, {\n              style: styles.small,\n              onPress: function onPress() {\n                _this3.radOrDeg();\n\n                Platform.OS != 'web' ? Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light) : null;\n              },\n              children: _jsx(Text, {\n                style: styles.textSmall,\n                children: trigMode\n              })\n            }), _jsx(TouchableOpacity, {\n              style: [styles.small, {\n                borderBottomRightRadius: 10\n              }],\n              onPress: function onPress() {\n                _this3.inverse();\n\n                Platform.OS != 'web' ? Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light) : null;\n              },\n              children: _jsx(Text, {\n                style: styles.textSmall,\n                children: \"Inv\"\n              })\n            })]\n          }) : null]\n        })\n      });\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport { App as default };","map":{"version":3,"sources":["/data/data/com.termux/files/home/projects/App.tsx"],"names":["React","Component","LinearGradient","styles","Haptics","Maths","trigMode","maths","App","props","state","ANS","ansArr","inv","render","firstRound","current","answer","map","opers","inner","errorNames","stylesButton","stylesText","innerText","command","Platform","OS","impactAsync","ImpactFeedbackStyle","Light","appNum","x","parseFloat","Number","isInteger","isNegative","i","includes","isNaN","slice","length","setState","toString","compute","len","num","firstHalf","split","replace","secondHalf","eq","j","parseInt","com","Math","floor","array","New","bigReplace","nums","allow","reverseString","factorial","alert","value","hasOwnProperty","join","AC","push","change","eval","comNums","toPrecision","toFixed","err","ans","gradient","container","screen","row","span2","text","button","DEL","touch","borderBottomLeftRadius","borderBottomRightRadius","equals","showAdv","small","textSmall","radOrDeg","inverse"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;;;;AAWA,SAASC,cAAT,QAA+B,sBAA/B;AACA,SAAQC,MAAR;AACA,OAAO,KAAKC,OAAZ,MAAyB,cAAzB;AACA,OAAOC,KAAP;;;AAEA,IAAIC,QAAQ,GAAG,KAAf;AACA,IAAIC,KAAK,GAAG,IAAIF,KAAJ,CAAUC,QAAV,CAAZ;;IACqBE,G;;;;;AACpB,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACZC,MAAAA,GAAG,EAAE,IADO;AAEZC,MAAAA,MAAM,EAAE,EAFI;AAGZC,MAAAA,GAAG,EAAE,KAHO;AAIZC,MAAAA,MAAM,EAAE,KAJI;AAKZC,MAAAA,UAAU,EAAE,EALA;AAMZC,MAAAA,OAAO,EAAE,EANG;AAOZC,MAAAA,MAAM,EAAE,EAPI;AAQZC,MAAAA,GAAG,EAAE;AACJ,cAAM,GADF;AAEJ,cAAM,GAFF;AAGJ,gBAAQ,cAHJ;AAIJ,gBAAQ,cAJJ;AAKJ,gBAAQ,cALJ;AAMJ,kBAAU,iBANN;AAOJ,kBAAU,iBAPN;AAQJ,kBAAU,iBARN;AASJ,aAAK,GATD;AAUJ,eAAO,aAVH;AAWJ,cAAM,YAXF;AAYJ,aAAK,aAZD;AAaJ,aAAK,IAbD;AAcJ,aAAK,aAdD;AAeJ,aAAK,cAfD;AAgBJ,aAAK,EAhBD;AAiBJ,aAAK,QAjBD;AAkBJ,eAAO;AAlBH,OARO;AA4BZC,MAAAA,KAAK,EAAE,CACN,GADM,EAEN,GAFM,EAED,GAFC,EAGN,GAHM,EAGD,KAHC,CA5BK;AAiCZC,MAAAA,KAAK,EAAE,CACN,KADM,EACC,IADD,EAEN,KAFM,EAEC,KAFD,EAGN,KAHM,EAGC,GAHD,EAIN,GAJM,CAjCK;AAuCZC,MAAAA,UAAU,EAAC,CACV,WADU,EAEV,cAFU,EAGV,YAHU,EAIV,KAJU;AAvCC,KAAb;AAFkB;AAgDlB;;;;WACD,eAAMC,YAAN,EAAoBC,UAApB,EAAgCC,SAAhC,EAA2CC,OAA3C,EAAoD;AAAA;;AACnD,aACC,KAAC,gBAAD;AAAkB,QAAA,KAAK,EAAEH,YAAzB;AAAuC,QAAA,OAAO,EAAE,mBAAM;AACtDI,UAAAA,QAAQ,CAACC,EAAT,IAAe,KAAf,GAAuBvB,OAAO,CAACwB,WAAR,CAAoBxB,OAAO,CAACyB,mBAAR,CAA4BC,KAAhD,CAAvB,GAAgF,IAAhF;;AACA,UAAA,MAAI,CAACC,MAAL,CAAYN,OAAZ;AACC,SAHD;AAAA,kBAIC,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEF,UAAb;AAAA,oBAA0BC;AAA1B;AAJD,QADD;AAQA;;;WACD,mBAAUQ,CAAV,EAA+B;AAC9BA,MAAAA,CAAC,GAAGC,UAAU,CAACD,CAAD,CAAd;AACA,UAAIA,CAAC,GAAG,GAAJ,IAAW,CAACE,MAAM,CAACC,SAAP,CAAiBH,CAAjB,CAAhB,EAAqC,OAAO,WAAP,CAArC,KACK,IAAIA,CAAC,IAAI,CAAL,IAAUA,CAAC,IAAI,CAAnB,EAAsB,OAAO,CAAP;AAC3B,UAAII,UAAkB,GAAG,CAAzB;AACA,UAAIJ,CAAC,GAAG,CAAR,EAAWI,UAAU,GAAG,CAAC,CAAd;;AACX,WAAK,IAAIC,CAAC,GAAGL,CAAC,GAAG,CAAjB,EAAoBK,CAAC,GAAG,CAAxB,EAA2BA,CAAC,EAA5B,EAAgC;AAC/BL,QAAAA,CAAC,IAAIK,CAAL;AACA;;AACD,aAAOL,CAAC,GAAGI,UAAX;AACA;;;WACD,gBAAOJ,CAAP,EAAsB;AACrB,UAAI,KAAKtB,KAAL,CAAWM,OAAX,IAAsB,EAAtB,KAA6BgB,CAAC,IAAI,GAAL,IAAYA,CAAC,IAAI,GAA9C,CAAJ,EAAwD;AACxD,UAAK,KAAKtB,KAAL,CAAWM,OAAX,IAAsB,EAAtB,IACJ,KAAKN,KAAL,CAAWS,KAAX,CAAiBmB,QAAjB,CAA0BN,CAA1B,KAAgCA,CAAC,IAAI,GADlC,IAEJ,KAAKtB,KAAL,CAAWW,UAAX,CAAsBiB,QAAtB,CAA+B,KAAK5B,KAAL,CAAWM,OAA1C,CAFA,EAEoD;;AACpD,UAAI,CAACuB,KAAK,CAACN,UAAU,CAACD,CAAD,CAAX,CAAN,IACJ,KAAKtB,KAAL,CAAWM,OAAX,CAAmBwB,KAAnB,CAAyB,CAAC,CAA1B,KAAgC,GAD5B,IAEFD,KAAK,CAACN,UAAU,CAAC,KAAKvB,KAAL,CAAWM,OAAX,CAAmB,KAAKN,KAAL,CAAWM,OAAX,CAAmByB,MAAnB,GAA4B,CAA/C,CAAD,CAAX,CAAL,IACF,KAAK/B,KAAL,CAAWM,OAAX,CAAmB,KAAKN,KAAL,CAAWM,OAAX,CAAmByB,MAAnB,GAA4B,CAA/C,KAAqD,GAHrD,EAIA;AACC,aAAKC,QAAL,CAAc;AAAC1B,UAAAA,OAAO,EAAE,KAAKN,KAAL,CAAWM,OAAX,CAAmBwB,KAAnB,CAAyB,CAAzB,EAA4B,CAAC,CAA7B,IAAkCR,CAAC,CAACW,QAAF;AAA5C,SAAd;AACA,aAAKC,OAAL,CAAa,KAAKlC,KAAL,CAAWM,OAAX,CAAmBwB,KAAnB,CAAyB,CAAzB,EAA4B,CAAC,CAA7B,IAAkCR,CAAC,CAACW,QAAF,EAA/C;AACA;AACA;;AACD,UAAIX,CAAC,IAAI,GAAT,EAAc;AACb,YAAI,KAAKtB,KAAL,CAAWM,OAAX,IAAsB,EAAtB,IACH,KAAKN,KAAL,CAAWS,KAAX,CAAiBmB,QAAjB,CAA0B,KAAK5B,KAAL,CAAWM,OAAX,CAAmBwB,KAAnB,CAAyB,CAAC,CAA1B,CAA1B,KACD,KAAK9B,KAAL,CAAWM,OAAX,CAAmBwB,KAAnB,CAAyB,CAAC,CAA1B,KAAgC,GAFhC,EAGA;AACC,eAAKE,QAAL,CAAc;AAAC1B,YAAAA,OAAO,EAAE,KAAKN,KAAL,CAAWM,OAAX,GAAqB;AAA/B,WAAd;AACA,eAAK4B,OAAL,CAAa,KAAKlC,KAAL,CAAWM,OAAX,GAAqB,IAAlC;AACA;AACA,SAPD,MAOO;AACN,cAAI6B,GAAG,GAAG,KAAKnC,KAAL,CAAWM,OAAX,CAAmByB,MAA7B;;AACA,eAAK,IAAIJ,CAAC,GAAGQ,GAAb,EAAkBR,CAAC,IAAI,CAAvB,EAA0BA,CAAC,EAA3B,EAA+B;AAC9B,gBAAI,KAAK3B,KAAL,CAAWS,KAAX,CAAiBmB,QAAjB,CAA0B,KAAK5B,KAAL,CAAWM,OAAX,CAAmBqB,CAAnB,CAA1B,KACJ,KAAK3B,KAAL,CAAWM,OAAX,CAAmBqB,CAAnB,KAAyB,GADzB,EAC8B,MAD9B,KAEK,IAAI,KAAK3B,KAAL,CAAWM,OAAX,CAAmBqB,CAAnB,KAAyB,GAA7B,EAAkC;AACvC;AACD;AACD;;AACD,UAAI,KAAK3B,KAAL,CAAWS,KAAX,CAAiBmB,QAAjB,CAA0B,KAAK5B,KAAL,CAAWM,OAAX,CAAmBwB,KAAnB,CAAyB,CAAC,CAA1B,CAA1B,KACJ,KAAK9B,KAAL,CAAWS,KAAX,CAAiBmB,QAAjB,CAA0BN,CAA1B,CADA,EAC8B,OAD9B,KAEK,IAAI,CAAC,KAAKtB,KAAL,CAAWS,KAAX,CAAiBmB,QAAjB,CAA0BN,CAA1B,KAAgCA,CAAC,IAAI,GAAtC,KACT,KAAKtB,KAAL,CAAWM,OAAX,CAAmBwB,KAAnB,CAAyB,CAAC,CAA1B,KAAgC,IAD3B,EACiC,OADjC,KAEA;AACJ,aAAKE,QAAL,CAAc;AAAC1B,UAAAA,OAAO,EAAE,KAAKN,KAAL,CAAWM,OAAX,GAAqBgB,CAAC,CAACW,QAAF;AAA/B,SAAd;AACA,aAAKC,OAAL,CAAa,KAAKlC,KAAL,CAAWM,OAAX,GAAqBgB,CAAC,CAACW,QAAF,EAAlC;AACA;AACD;;;WACD,aAAIG,GAAJ,EAA0B;AACzB,UAAIP,KAAK,CAACO,GAAD,CAAL,IACHA,GAAG,IAAI,EADJ,IAEFA,GAAG,CAACR,QAAJ,CAAa,IAAb,KACAQ,GAAG,CAACR,QAAJ,CAAa,IAAb,CAHF,EAGuB;AACtB,eAAOQ,GAAP;AACA;;AACD,UAAIA,GAAG,CAACR,QAAJ,CAAa,GAAb,CAAJ,EAAuB;AACtB,YAAIS,SAAS,GAAID,GAAG,CAACE,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAD,CACdL,QADc,GACHM,OADG,CACK,uBADL,EAC8B,GAD9B,CAAhB;AAEA,YAAIC,UAAU,GAAGJ,GAAG,CAACE,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAjB;AACA,eAAUD,SAAV,SAAuBG,UAAvB;AACA,OALD,MAKO;AACN,eAAOJ,GAAG,CAACH,QAAJ,GAAeM,OAAf,CAAuB,uBAAvB,EAAgD,GAAhD,CAAP;AACA;AACD;;;WACD,iBAAQE,EAAR,EAA6B;AAC5BA,MAAAA,EAAE,GAAGA,EAAE,CAACF,OAAH,CAAW,IAAX,EAAiB,EAAjB,CAAL;AACA,UAAIH,GAAG,GAAG,EAAV;AACA,UAAID,GAAW,GAAGM,EAAE,CAACV,MAArB;;AACA,WAAK,IAAIJ,CAAS,GAAG,CAArB,EAAwBA,CAAC,GAAGQ,GAA5B,EAAiCR,CAAC,EAAlC,EAAsC;AACrC,YAAIH,MAAM,CAACC,SAAP,CAAiBF,UAAU,CAACkB,EAAE,CAACd,CAAD,CAAH,CAA3B,CAAJ,EAAyC;AACxCS,UAAAA,GAAG,IAAIK,EAAE,CAACd,CAAD,CAAT;;AACA,eAAK,IAAIe,CAAS,GAAG,CAArB,EAAwBA,CAAC,GAAGP,GAA5B,EAAiCO,CAAC,EAAlC,EAAsC;AACrC,gBAAIlB,MAAM,CAACC,SAAP,CAAiBkB,QAAQ,CAACF,EAAE,CAACd,CAAC,GAAGe,CAAL,CAAH,CAAzB,KACHD,EAAE,CAACd,CAAC,GAAGe,CAAL,CAAF,IAAa,GADd,EACmB;AAClBN,cAAAA,GAAG,IAAIK,EAAE,CAACd,CAAC,GAAGe,CAAL,CAAT;AACA,aAHD,MAGO;AACP;;AACDD,UAAAA,EAAE,GAAGA,EAAE,CAACF,OAAH,CAAWH,GAAX,EAAgB,KAAKQ,GAAL,CAASR,GAAT,CAAhB,CAAL;AACAT,UAAAA,CAAC,IAAIS,GAAG,CAACL,MAAJ,GAAac,IAAI,CAACC,KAAL,CAAWV,GAAG,CAACL,MAAJ,GAAa,CAAxB,CAAlB;AACAK,UAAAA,GAAG,GAAG,EAAN;AACA;AACD;;AACD,aAAOK,EAAP;AACA;;;WACD,mBAAiB;AAChB,UAAIM,KAAe,GAAG,KAAK/C,KAAL,CAAWU,KAAjC;;AACA,WAAK,IAAIiB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK3B,KAAL,CAAWU,KAAX,CAAiBqB,MAArC,EAA6CJ,CAAC,EAA9C,EAAkD;AACjD,gBAAQoB,KAAK,CAACpB,CAAD,CAAb;AACC,eAAK,KAAL;AACA,eAAK,KAAL;AACA,eAAK,KAAL;AACCoB,YAAAA,KAAK,CAACpB,CAAD,CAAL,IAAY,IAAZ;AACA;;AACD,eAAK,OAAL;AACA,eAAK,OAAL;AACA,eAAK,OAAL;AACCoB,YAAAA,KAAK,CAACpB,CAAD,CAAL,GAAWoB,KAAK,CAACpB,CAAD,CAAL,CAASG,KAAT,CAAe,CAAf,EAAkB,CAAC,CAAnB,CAAX;AACA;;AACD,eAAK,KAAL;AACCiB,YAAAA,KAAK,CAACpB,CAAD,CAAL,GAAW,KAAX;AACA;;AACD,eAAK,KAAL;AACCoB,YAAAA,KAAK,CAACpB,CAAD,CAAL,GAAW,KAAX;AACA;;AACD,eAAK,IAAL;AACCoB,YAAAA,KAAK,CAACpB,CAAD,CAAL,GAAW,IAAX;AACA;;AACD,eAAK,IAAL;AACCoB,YAAAA,KAAK,CAACpB,CAAD,CAAL,GAAW,IAAX;AACA;;AACD,eAAK,GAAL;AACCoB,YAAAA,KAAK,CAACpB,CAAD,CAAL,GAAW,IAAX;AACA;;AACD,eAAK,IAAL;AACCoB,YAAAA,KAAK,CAACpB,CAAD,CAAL,GAAW,GAAX;AACA;;AACD,eAAK,GAAL;AACCoB,YAAAA,KAAK,CAACpB,CAAD,CAAL,GAAW,KAAX;AACA;;AACD;AACCoB,YAAAA,KAAK,CAACpB,CAAD,CAAL,GAAW,GAAX;AACA;AAlCF;AAoCA;;AACD,WAAKK,QAAL,CAAc;AAACtB,QAAAA,KAAK,EAAEqC;AAAR,OAAd;AACA;;;WACD,oBAAkB;AACjBnD,MAAAA,QAAQ,GAAGA,QAAQ,IAAI,KAAZ,GAAoB,KAApB,GAA4B,KAAvC;AACAC,MAAAA,KAAK,GAAG,IAAIF,KAAJ,CAAUC,QAAV,CAAR;AACA,WAAKsC,OAAL,CAAa,KAAKlC,KAAL,CAAWM,OAAxB;AACA;;;WACD,uBAAcmC,EAAd,EAAmC;AAClC,UAAIO,GAAW,GAAG,EAAlB;AACA,UAAIb,GAAW,GAAGM,EAAE,CAACV,MAAH,GAAY,CAA9B;;AACA,WAAK,IAAIJ,CAAS,GAAGQ,GAArB,EAA0BR,CAAC,IAAI,CAA/B,EAAkCA,CAAC,EAAnC,EAAuC;AACtCqB,QAAAA,GAAG,IAAIP,EAAE,CAACd,CAAD,CAAT;AACA;;AACD,aAAOqB,GAAP;AACA;;;WACD,gBAAOP,EAAP,EAA4B;AAC3BA,MAAAA,EAAE,GAAG,KAAKQ,UAAL,CAAgBR,EAAhB,CAAL;;AACA,aAAOA,EAAE,CAACb,QAAH,CAAY,KAAZ,CAAP,EAA2B;AAC1Ba,QAAAA,EAAE,GAAGA,EAAE,CAACF,OAAH,CAAW,KAAX,EAAkB,GAAlB,CAAL;AACA;;AACD,UAAIW,IAAJ;AACA,UAAMC,KAAK,GAAG,CACb,GADa,EACT,GADS,EAEb,GAFa,EAET,GAFS,EAEL,GAFK,CAAd;;AAIA,aAAOV,EAAE,CAACb,QAAH,CAAY,GAAZ,KACPa,EAAE,CAACb,QAAH,CAAY,GAAZ,CADA,EAEA;AACC,YAAIO,GAAG,GAAGM,EAAE,CAACV,MAAb;;AACA,aAAK,IAAIJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGQ,GAApB,EAAyBR,CAAC,EAA1B,EAA8B;AAC7B,cAAIc,EAAE,CAACd,CAAD,CAAF,IAAS,GAAb,EAAkB;AACjBuB,YAAAA,IAAI,GAAG,EAAP;;AACA,iBAAK,IAAI5B,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIK,CAArB,EAAwBL,CAAC,EAAzB,EAA6B;AAC5B,kBAAIO,KAAK,CAACc,QAAQ,CAACF,EAAE,CAACd,CAAC,GAAGL,CAAL,CAAH,CAAT,CAAL,IACJ,CAAC6B,KAAK,CAACvB,QAAN,CAAea,EAAE,CAACd,CAAC,GAAGL,CAAL,CAAjB,CADD,EAEA;AACC;AACA;;AACD4B,cAAAA,IAAI,IAAIT,EAAE,CAACd,CAAC,GAAGL,CAAL,CAAV;AACA;;AACD4B,YAAAA,IAAI,GAAG,KAAKE,aAAL,CAAmBF,IAAnB,CAAP;AACAT,YAAAA,EAAE,GAAGA,EAAE,CAACF,OAAH,CAAWW,IAAI,GAAG,GAAlB,EAAuB,KAAKG,SAAL,CAAeH,IAAf,CAAvB,CAAL;AACA;AACA;AACD;AACD;;AACDT,MAAAA,EAAE,GAAGA,EAAE,CAACF,OAAH,CAAW,MAAX,EAAmB,GAAnB,CAAL;;AACA,WAAK,IAAIZ,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGc,EAAE,CAACV,MAAvB,EAA+BJ,EAAC,EAAhC,EAAoC;AACnC,YAAIc,EAAE,CAACd,EAAD,CAAF,IAAS,GAAb,EAAkB;AACjB,cAAI,KAAK3B,KAAL,CAAWS,KAAX,CAAiBmB,QAAjB,CAA0Ba,EAAE,CAACd,EAAC,GAAG,CAAL,CAA5B,KACHc,EAAE,CAACd,EAAC,GAAG,CAAL,CAAH,IAAe,GADX,IACkBA,EAAC,IAAI,CAD3B,EAC8B;AAC7Bc,YAAAA,EAAE,GAAGA,EAAE,CAACX,KAAH,CAAS,CAAT,EAAYH,EAAZ,IAAiBc,EAAE,CAACX,KAAH,CAASH,EAAC,GAAG,CAAb,CAAtB;AACA,WAHD,MAGO,IAAK,KAAK3B,KAAL,CAAWS,KAAX,CAAiBmB,QAAjB,CAA0Ba,EAAE,CAACd,EAAC,GAAG,CAAL,CAA5B,KACZc,EAAE,CAACd,EAAC,GAAG,CAAL,CAAF,IAAa,GADF,IAEXc,EAAE,CAACd,EAAC,GAAG,CAAL,CAAF,IAAa,GAFN,EAEW;AACjBc,YAAAA,EAAE,GAAGA,EAAE,CAACX,KAAH,CAAS,CAAT,EAAYH,EAAZ,IAAiBc,EAAE,CAACX,KAAH,CAASH,EAAC,GAAG,CAAb,CAAtB;AACA;AACD,SATD,MASO,IAAIc,EAAE,CAACd,EAAD,CAAF,IAAS,GAAb,EAAkB;AACxB,cAAI,CAACE,KAAK,CAACY,EAAE,CAACd,EAAC,GAAG,CAAL,CAAH,CAAV,EAAuB;AACtBc,YAAAA,EAAE,GAAGA,EAAE,CAACX,KAAH,CAAS,CAAT,EAAYH,EAAZ,IAAiB,KAAjB,GAAyBc,EAAE,CAACX,KAAH,CAASH,EAAC,GAAG,CAAb,CAA9B;AACAA,YAAAA,EAAC,IAAI,CAAL;AACA;AACD,SALM,MAKA,IAAIc,EAAE,CAACd,EAAD,CAAF,IAAS,GAAb,EAAkB;AACxB,cAAI,CAACE,KAAK,CAACY,EAAE,CAACd,EAAC,GAAG,CAAL,CAAH,CAAN,IACJc,EAAE,CAACd,EAAD,CADF,EACQ;AACPc,YAAAA,EAAE,GAAGA,EAAE,CAACX,KAAH,CAAS,CAAT,EAAYH,EAAZ,IAAiB,KAAjB,GAAyBc,EAAE,CAACX,KAAH,CAASH,EAAC,GAAG,CAAb,CAA9B;AACAA,YAAAA,EAAC,IAAI,CAAL;AACA;AACD;AACD;;AACD,UAAIc,EAAE,CAACX,KAAH,CAAS,CAAC,CAAV,KAAgB,GAApB,EAAyBW,EAAE,GAAGA,EAAE,CAACX,KAAH,CAAS,CAAT,EAAY,CAAC,CAAb,CAAL;AACzB,UAAIW,EAAE,CAACX,KAAH,CAAS,CAAC,CAAV,KAAgB,IAApB,EAA0BW,EAAE,GAAGA,EAAE,CAACX,KAAH,CAAS,CAAT,EAAY,CAAC,CAAb,CAAL;;AAC1B,aAAOW,EAAE,CAACb,QAAH,CAAY,KAAZ,KACPa,EAAE,CAACb,QAAH,CAAY,IAAZ,CADO,IAEPa,EAAE,CAACb,QAAH,CAAY,MAAZ,CAFA,EAEqB;AACpBa,QAAAA,EAAE,GAAGA,EAAE,CAACF,OAAH,CAAW,KAAX,EAAkB,IAAlB,CAAL;AACAE,QAAAA,EAAE,GAAGA,EAAE,CAACF,OAAH,CAAW,IAAX,EAAiB,GAAjB,CAAL;AACAE,QAAAA,EAAE,GAAGA,EAAE,CAACF,OAAH,CAAW,MAAX,EAAmB,GAAnB,CAAL;AACA;;AACDE,MAAAA,EAAE,GAAGA,EAAE,CAACF,OAAH,CAAW,GAAX,EAAgB,IAAhB,CAAL;AACAe,MAAAA,KAAK,CAACb,EAAD,CAAL;AACA,aAAOA,EAAP;AACA;;;WACD,oBAAWA,EAAX,EAAgC;AAC/B,UAAIO,GAAW,GAAGP,EAAlB;;AACA,WAAK,IAAIc,KAAT,IAAkB,KAAKvD,KAAL,CAAWQ,GAA7B,EAAkC;AACjC,YAAI,CAAC,KAAKR,KAAL,CAAWQ,GAAX,CAAegD,cAAf,CAA8BD,KAA9B,CAAL,EAA2C;AAC3CP,QAAAA,GAAG,GAAGA,GAAG,CAACV,KAAJ,CAAUiB,KAAV,EAAiBE,IAAjB,CAAsB,KAAKzD,KAAL,CAAWQ,GAAX,CAAe+C,KAAf,CAAtB,CAAN;AACA;;AACD,aAAOP,GAAP;AACA;;;WACD,cAAY;AACX,WAAKhB,QAAL,CAAc;AAAC1B,QAAAA,OAAO,EAAE,EAAV;AAAcC,QAAAA,MAAM,EAAE;AAAtB,OAAd;AACA;;;WACD,eAAa;AACZ,UAAI,KAAKP,KAAL,CAAWW,UAAX,CAAsBiB,QAAtB,CAA+B,KAAK5B,KAAL,CAAWM,OAA1C,CAAJ,EACCoD,EAAE,GADH,KAEK;AACJ,aAAK1B,QAAL,CAAc;AAAC1B,UAAAA,OAAO,EAAE,KAAKN,KAAL,CAAWM,OAAX,CAAmBwB,KAAnB,CAAyB,CAAzB,EAA4B,CAAC,CAA7B;AAAV,SAAd;AACA,aAAKI,OAAL,CAAa,KAAKlC,KAAL,CAAWM,OAAX,CAAmBwB,KAAnB,CAAyB,CAAzB,EAA4B,CAAC,CAA7B,CAAb;AACA;AACD;;;WACD,mBAAiB;AAChB,WAAKE,QAAL,CAAc;AAAC5B,QAAAA,MAAM,EAAE,CAAC,KAAKJ,KAAL,CAAWI;AAArB,OAAd;AACA,WAAK4B,QAAL,CAAc;AAAC3B,QAAAA,UAAU,EAAE,KAAKL,KAAL,CAAWK,UAAX,IAAyB,EAAzB,GAA8B,CAA9B,GAAkC;AAA/C,OAAd;AACA;;;WACD,aAAIoC,EAAJ,EAAuB;AACtB,WAAKT,QAAL,CAAc;AAAC/B,QAAAA,GAAG,EAAEwC;AAAN,OAAd;AACA,UAAIM,KAAe,GAAG,KAAK/C,KAAL,CAAWE,MAAjC;AACA6C,MAAAA,KAAK,CAACY,IAAN,CAAW,KAAK3D,KAAL,CAAWM,OAAtB;AACA,WAAK0B,QAAL,CAAc;AAAC9B,QAAAA,MAAM,EAAE6C;AAAT,OAAd;AACA;;;WACD,iBAAQzC,OAAR,EAAgC;AAC/B,UAAImC,EAAU,GAAG,KAAKmB,MAAL,CAAYtD,OAAZ,CAAjB;;AACA,UAAImC,EAAE,IAAI,WAAV,EAAuB;AACtB,aAAKT,QAAL,CAAc;AAACzB,UAAAA,MAAM,EAAE;AAAT,SAAd;AACA;AACA;;AACD,aAAOkC,EAAE,CAACH,KAAH,CAAS,GAAT,EAAcP,MAAd,GAAuBU,EAAE,CAACH,KAAH,CAAS,GAAT,EAAcP,MAA5C,EAAoD;AACnDU,QAAAA,EAAE,IAAI,GAAN;AACA;;AACD,UAAI;AACHA,QAAAA,EAAE,GAAGoB,IAAI,CAACpB,EAAD,CAAJ,CAASR,QAAT,EAAL;;AACA,YAAIQ,EAAE,IAAI,WAAV,EAAuB;AACtB,eAAKT,QAAL,CAAc;AAACzB,YAAAA,MAAM,EAAEkC;AAAT,WAAd;AACA,eAAKT,QAAL,CAAc;AAAC1B,YAAAA,OAAO,EAAE,KAAKwD,OAAL,CAAaxD,OAAb;AAAV,WAAd;AACA;AACA;;AACDmC,QAAAA,EAAE,GAAIjB,MAAM,CAACiB,EAAD,CAAN,CAAWsB,WAAX,EAAD,CAA2B9B,QAA3B,EAAL;;AACA,YAAIQ,EAAE,CAACb,QAAH,CAAY,GAAZ,KACJa,EAAE,CAACH,KAAH,CAAS,GAAT,EAAc,CAAd,EAAiBP,MAAjB,GAA0B,EAD1B,EAEA;AACC,cAAIS,UAAU,GAAGC,EAAE,CAACH,KAAH,CAAS,GAAT,EAAc,CAAd,CAAjB;AACAG,UAAAA,EAAE,GAAGlB,UAAU,CAACkB,EAAD,CAAV,CAAeuB,OAAf,CAAuB,EAAvB,CAAL;AACAvB,UAAAA,EAAE,GAAGA,EAAE,CAACR,QAAH,EAAL;;AACA,iBAAO,CAACQ,EAAE,CAACX,KAAH,CAAS,CAAC,CAAV,KAAgB,GAAhB,IACRW,EAAE,CAACX,KAAH,CAAS,CAAC,CAAV,KAAgB,GADT,KACiBW,EAAE,CAACV,MAAH,GAAY,CADpC,EAEA;AACCU,YAAAA,EAAE,GAAGA,EAAE,CAACX,KAAH,CAAS,CAAT,EAAY,CAAC,CAAb,CAAL;AACA;AACD;;AACD,YAAIW,EAAE,IAAI,KAAN,IAAeA,EAAE,CAACb,QAAH,CAAY,UAAZ,CAAnB,EAA4C;AAC3C,eAAKI,QAAL,CAAc;AAACzB,YAAAA,MAAM,EAAE;AAAT,WAAd;AACA,eAAKyB,QAAL,CAAc;AAAC1B,YAAAA,OAAO,EAAE,KAAKwD,OAAL,CAAaxD,OAAb;AAAV,WAAd;AACA,SAHD,MAGO;AACN,eAAK0B,QAAL,CAAc;AAACzB,YAAAA,MAAM,EAAE,KAAKqC,GAAL,CAASH,EAAT,EAAaF,OAAb,CAAqB,IAArB,EAA2B,IAA3B,EACtBA,OADsB,CACd,IADc,EACR,IADQ;AAAT,WAAd;AAEA,eAAKP,QAAL,CAAc;AAAC1B,YAAAA,OAAO,EAAE,KAAKwD,OAAL,CAAaxD,OAAb;AAAV,WAAd;AACA;AACD,OA5BD,CA4BE,OAAM2D,GAAN,EAAW;AAEZ,YAAI,CAAC,KAAKjE,KAAL,CAAWS,KAAX,CAAiBmB,QAAjB,CAA0BtB,OAAO,CAACwB,KAAR,CAAc,CAAC,CAAf,CAA1B,CAAL,EAAmD;AAClD,eAAKE,QAAL,CAAc;AAACzB,YAAAA,MAAM,EAAE;AAAT,WAAd;AACA;AACD;AACD;;;WACD,gBAAOkC,EAAP,EAA0B;AACzB,aAAOA,EAAE,CAACH,KAAH,CAAS,GAAT,EAAcP,MAAd,GAAuBU,EAAE,CAACH,KAAH,CAAS,GAAT,EAAcP,MAA5C,EAAoD;AACnDU,QAAAA,EAAE,IAAI,GAAN;AACA;;AACD,UAAIA,EAAE,IAAI,EAAV,EAAc,OAAd,KACK;AACJ,YAAI;AACH,cAAI,KAAKzC,KAAL,CAAWO,MAAX,IAAqB,EAAzB,EAA6BsD,IAAI,CAAC,KAAKD,MAAL,CAAYnB,EAAZ,CAAD,CAAJ;AAC7B,eAAKT,QAAL,CAAc;AAAC1B,YAAAA,OAAO,EAAE,KAAKN,KAAL,CAAWO;AAArB,WAAd;AACA,eAAKyB,QAAL,CAAc;AAACzB,YAAAA,MAAM,EAAE;AAAT,WAAd;AACA,eAAK2D,GAAL,CAAS,KAAKlE,KAAL,CAAWO,MAApB;AACA,SALD,CAKE,OAAM0D,GAAN,EAAW;AACZ,eAAKjC,QAAL,CAAc;AAAC1B,YAAAA,OAAO,EAAE;AAAV,WAAd;AACA,eAAK0B,QAAL,CAAc;AAACzB,YAAAA,MAAM,EAAE;AAAT,WAAd;AACA;AACD;AACD;;;WACD,kBAAS;AAAA;;AACR,aACC,KAAC,cAAD;AACA,QAAA,MAAM,EAAE,CAAC,SAAD,EAAY,SAAZ,CADR;AAEA,QAAA,KAAK,EAAEd,MAAM,CAAC0E,QAFd;AAGA,QAAA,KAAK,EAAE,CAAC,GAAD,EAAM,GAAN,CAHP;AAGmB,QAAA,GAAG,EAAE,CAAC,GAAD,EAAM,GAAN,CAHxB;AAAA,kBAIA,MAAC,IAAD;AAAM,UAAA,KAAK,EAAE1E,MAAM,CAAC2E,SAApB;AAAA,qBACG,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE3E,MAAM,CAAC4E,MAApB;AAAA,uBACC,KAAC,IAAD;AAAM,cAAA,KAAK,EAAE5E,MAAM,CAACc,MAApB;AAAA,wBAA6B,KAAKP,KAAL,CAAWO;AAAxC,cADD,EAEF,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEd,MAAM,CAACa,OAApB;AAAA,wBAA8B,KAAKN,KAAL,CAAWM;AAAzC,cAFE;AAAA,YADH,EAKG,MAAC,IAAD;AAAM,YAAA,KAAK,EAAEb,MAAM,CAAC6E,GAApB;AAAA,uBACC,KAAC,gBAAD;AAAkB,cAAA,KAAK,EAAE7E,MAAM,CAAC8E,KAAhC;AAAuC,cAAA,OAAO,EAAE,mBAAM;AACtDvD,gBAAAA,QAAQ,CAACC,EAAT,IAAe,KAAf,GAAuBvB,OAAO,CAACwB,WAAR,CAAoBxB,OAAO,CAACyB,mBAAR,CAA4BC,KAAhD,CAAvB,GAAgF,IAAhF;;AACA,gBAAA,MAAI,CAACsC,EAAL;AACC,eAHD;AAAA,wBAIA,KAAC,IAAD;AAAM,gBAAA,KAAK,EAAEjE,MAAM,CAAC+E,IAApB;AAAA;AAAA;AAJA,cADD,EAOC,KAAC,gBAAD;AAAkB,cAAA,KAAK,EAAE/E,MAAM,CAACgF,MAAhC;AAAwC,cAAA,OAAO,EAAE,mBAAM;AACvDzD,gBAAAA,QAAQ,CAACC,EAAT,IAAe,KAAf,GAAuBvB,OAAO,CAACwB,WAAR,CAAoBxB,OAAO,CAACyB,mBAAR,CAA4BC,KAAhD,CAAvB,GAAgF,IAAhF;;AACA,gBAAA,MAAI,CAACsD,GAAL;AACC,eAHD;AAAA,wBAIC,KAAC,IAAD;AAAM,gBAAA,KAAK,EAAEjF,MAAM,CAAC+E,IAApB;AAAA;AAAA;AAJD,cAPD,EAaE,KAAKG,KAAL,CAAWlF,MAAM,CAACgF,MAAlB,EAA0BhF,MAAM,CAAC+E,IAAjC,EAAuC,GAAvC,EAA4C,GAA5C,CAbF;AAAA,YALH,EAoBG,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE/E,MAAM,CAAC6E,GAApB;AAAA,uBACE,KAAKK,KAAL,CAAWlF,MAAM,CAACgF,MAAlB,EAA0BhF,MAAM,CAAC+E,IAAjC,EAAuC,GAAvC,EAA4C,CAA5C,CADF,EAEE,KAAKG,KAAL,CAAWlF,MAAM,CAACgF,MAAlB,EAA0BhF,MAAM,CAAC+E,IAAjC,EAAuC,GAAvC,EAA4C,CAA5C,CAFF,EAGE,KAAKG,KAAL,CAAWlF,MAAM,CAACgF,MAAlB,EAA0BhF,MAAM,CAAC+E,IAAjC,EAAuC,GAAvC,EAA4C,CAA5C,CAHF,EAIE,KAAKG,KAAL,CAAWlF,MAAM,CAACgF,MAAlB,EAA0BhF,MAAM,CAAC+E,IAAjC,EAAuC,GAAvC,EAA4C,GAA5C,CAJF;AAAA,YApBH,EA0BA,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE/E,MAAM,CAAC6E,GAApB;AAAA,uBACE,KAAKK,KAAL,CAAWlF,MAAM,CAACgF,MAAlB,EAA0BhF,MAAM,CAAC+E,IAAjC,EAAuC,GAAvC,EAA4C,CAA5C,CADF,EAEE,KAAKG,KAAL,CAAWlF,MAAM,CAACgF,MAAlB,EAA0BhF,MAAM,CAAC+E,IAAjC,EAAuC,GAAvC,EAA4C,CAA5C,CAFF,EAGE,KAAKG,KAAL,CAAWlF,MAAM,CAACgF,MAAlB,EAA0BhF,MAAM,CAAC+E,IAAjC,EAAuC,GAAvC,EAA4C,CAA5C,CAHF,EAIE,KAAKG,KAAL,CAAWlF,MAAM,CAACgF,MAAlB,EAA0BhF,MAAM,CAAC+E,IAAjC,EAAuC,GAAvC,EAA4C,GAA5C,CAJF;AAAA,YA1BA,EAgCA,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE/E,MAAM,CAAC6E,GAApB;AAAA,uBACE,KAAKK,KAAL,CAAWlF,MAAM,CAACgF,MAAlB,EAA0BhF,MAAM,CAAC+E,IAAjC,EAAuC,GAAvC,EAA4C,CAA5C,CADF,EAEE,KAAKG,KAAL,CAAWlF,MAAM,CAACgF,MAAlB,EAA0BhF,MAAM,CAAC+E,IAAjC,EAAuC,GAAvC,EAA4C,CAA5C,CAFF,EAGE,KAAKG,KAAL,CAAWlF,MAAM,CAACgF,MAAlB,EAA0BhF,MAAM,CAAC+E,IAAjC,EAAuC,GAAvC,EAA4C,CAA5C,CAHF,EAIE,KAAKG,KAAL,CAAWlF,MAAM,CAACgF,MAAlB,EAA0BhF,MAAM,CAAC+E,IAAjC,EAAuC,GAAvC,EAA4C,GAA5C,CAJF;AAAA,YAhCA,EAsCA,MAAC,IAAD;AAAM,YAAA,KAAK,EAAE/E,MAAM,CAAC6E,GAApB;AAAA,uBACE,KAAKK,KAAL,CAAW,CAAClF,MAAM,CAACgF,MAAR,EAAgB;AAAEG,cAAAA,sBAAsB,EAAE,KAAK5E,KAAL,CAAWK;AAArC,aAAhB,CAAX,EAA8EZ,MAAM,CAAC+E,IAArF,EAA2F,GAA3F,EAAgG,GAAhG,CADF,EAEK,KAAKG,KAAL,CAAWlF,MAAM,CAACgF,MAAlB,EAA0BhF,MAAM,CAAC+E,IAAjC,EAAuC,GAAvC,EAA4C,CAA5C,CAFL,EAGI,KAAC,gBAAD;AACH,cAAA,KAAK,EAAE,CAAC/E,MAAM,CAAC8E,KAAR,EAAe;AAAEM,gBAAAA,uBAAuB,EAAE,KAAK7E,KAAL,CAAWK;AAAtC,eAAf,CADJ;AAEH,cAAA,OAAO,EAAE,mBAAM;AACf,gBAAA,MAAI,CAACyE,MAAL,CAAY,MAAI,CAAC9E,KAAL,CAAWM,OAAvB;;AACAU,gBAAAA,QAAQ,CAACC,EAAT,IAAe,KAAf,GAAuBvB,OAAO,CAACwB,WAAR,CAAoBxB,OAAO,CAACyB,mBAAR,CAA4BC,KAAhD,CAAvB,GAAgF,IAAhF;AACC,eALE;AAMH,cAAA,WAAW,EAAE;AAAA,uBAAM,MAAI,CAAC2D,OAAL,EAAN;AAAA,eANV;AAAA,wBAOC,KAAC,IAAD;AAAM,gBAAA,KAAK,EAAEtF,MAAM,CAAC+E,IAApB;AAAA;AAAA;AAPD,cAHJ;AAAA,YAtCA,EAmDC,KAAKxE,KAAL,CAAWI,MAAX,GAAoB,MAAC,IAAD;AAAM,YAAA,KAAK,EAAEX,MAAM,CAAC6E,GAApB;AAAA,uBACnB,KAAKK,KAAL,CAAWlF,MAAM,CAACuF,KAAlB,EAAyBvF,MAAM,CAACwF,SAAhC,EAA2C,GAA3C,EAAgD,GAAhD,CADmB,EAEhB,KAAKN,KAAL,CAAWlF,MAAM,CAACuF,KAAlB,EAAyBvF,MAAM,CAACwF,SAAhC,EAA2C,GAA3C,EAAgD,GAAhD,CAFgB,EAGhB,KAAKN,KAAL,CAAWlF,MAAM,CAACuF,KAAlB,EAAyBvF,MAAM,CAACwF,SAAhC,EAA2C,KAAKjF,KAAL,CAAWU,KAAX,CAAiB,CAAjB,CAA3C,EACD,KAAKV,KAAL,CAAWU,KAAX,CAAiB,CAAjB,KAAuB,KAAvB,GAA+B,MAA/B,GAAwC,KADvC,CAHgB,EAKhB,KAAKiE,KAAL,CAAWlF,MAAM,CAACuF,KAAlB,EAAyBvF,MAAM,CAACwF,SAAhC,EAA2C,KAAKjF,KAAL,CAAWU,KAAX,CAAiB,CAAjB,CAA3C,EACD,KAAKV,KAAL,CAAWU,KAAX,CAAiB,CAAjB,KAAuB,IAAvB,GAA8B,KAA9B,GAAsC,IADrC,CALgB,EAOhB,KAAKiE,KAAL,CAAWlF,MAAM,CAACuF,KAAlB,EAAyBvF,MAAM,CAACwF,SAAhC,EAA2C,KAAKjF,KAAL,CAAWU,KAAX,CAAiB,CAAjB,CAA3C,EACD,KAAKV,KAAL,CAAWU,KAAX,CAAiB,CAAjB,IAAsB,GADrB,CAPgB,EAShB,KAAKiE,KAAL,CAAWlF,MAAM,CAACuF,KAAlB,EAAyBvF,MAAM,CAACwF,SAAhC,EAA2C,KAAKjF,KAAL,CAAWU,KAAX,CAAiB,CAAjB,CAA3C,EACD,KAAKV,KAAL,CAAWU,KAAX,CAAiB,CAAjB,IAAsB,GADrB,CATgB,EAWhB,KAAKiE,KAAL,CAAWlF,MAAM,CAACuF,KAAlB,EAAyBvF,MAAM,CAACwF,SAAhC,EAA2C,KAAKjF,KAAL,CAAWU,KAAX,CAAiB,CAAjB,CAA3C,EACD,KAAKV,KAAL,CAAWU,KAAX,CAAiB,CAAjB,IAAsB,GADrB,CAXgB,EAahB,KAAKiE,KAAL,CAAWlF,MAAM,CAACuF,KAAlB,EAAyBvF,MAAM,CAACwF,SAAhC,EAA2C,KAAKjF,KAAL,CAAWU,KAAX,CAAiB,CAAjB,CAA3C,EACD,KAAKV,KAAL,CAAWU,KAAX,CAAiB,CAAjB,KAAwB,GAAxB,GAA8B,IAA9B,GAAqC,IADpC,CAbgB;AAAA,YAApB,GAeS,IAlEV,EAmEC,KAAKV,KAAL,CAAWI,MAAX,GAAoB,MAAC,IAAD;AAAM,YAAA,KAAK,EAAEX,MAAM,CAAC6E,GAApB;AAAA,uBACnB,KAAKK,KAAL,CAAW,CAAClF,MAAM,CAACuF,KAAR,EAAe;AAAEJ,cAAAA,sBAAsB,EAAE;AAA1B,aAAf,CAAX,EAA0DnF,MAAM,CAACwF,SAAjE,EAA4E,GAA5E,EAAiF,GAAjF,CADmB,EAEnB,KAAKN,KAAL,CAAWlF,MAAM,CAACuF,KAAlB,EAAyBvF,MAAM,CAACwF,SAAhC,EAA2C,GAA3C,EAAgD,GAAhD,CAFmB,EAGnB,KAAKN,KAAL,CAAWlF,MAAM,CAACuF,KAAlB,EAAyBvF,MAAM,CAACwF,SAAhC,EAA2C,GAA3C,EAAgD,GAAhD,CAHmB,EAIhB,KAAKN,KAAL,CAAWlF,MAAM,CAACuF,KAAlB,EAAyBvF,MAAM,CAACwF,SAAhC,EAA2C,GAA3C,EAAgD,GAAhD,CAJgB,EAKhB,KAAKN,KAAL,CAAWlF,MAAM,CAACuF,KAAlB,EAAyBvF,MAAM,CAACwF,SAAhC,EAA2C,KAAKjF,KAAL,CAAWU,KAAX,CAAiB,CAAjB,CAA3C,EACD,KAAKV,KAAL,CAAWU,KAAX,CAAiB,CAAjB,KAAuB,GAAvB,GAA6B,GAA7B,GAAmC,KADlC,CALgB,EAOhB,KAAKiE,KAAL,CAAWlF,MAAM,CAACuF,KAAlB,EAAyBvF,MAAM,CAACwF,SAAhC,EAA2C,KAA3C,EAAkD,KAAlD,CAPgB,EAQjB,KAAC,gBAAD;AAAkB,cAAA,KAAK,EAAExF,MAAM,CAACuF,KAAhC;AACA,cAAA,OAAO,EAAE,mBAAM;AACf,gBAAA,MAAI,CAACE,QAAL;;AACAlE,gBAAAA,QAAQ,CAACC,EAAT,IAAe,KAAf,GAAuBvB,OAAO,CAACwB,WAAR,CAAoBxB,OAAO,CAACyB,mBAAR,CAA4BC,KAAhD,CAAvB,GAAgF,IAAhF;AACC,eAJD;AAAA,wBAKC,KAAC,IAAD;AAAM,gBAAA,KAAK,EAAE3B,MAAM,CAACwF,SAApB;AAAA,0BAAgCrF;AAAhC;AALD,cARiB,EAejB,KAAC,gBAAD;AAAkB,cAAA,KAAK,EAAE,CAACH,MAAM,CAACuF,KAAR,EAAe;AAACH,gBAAAA,uBAAuB,EAAE;AAA1B,eAAf,CAAzB;AACH,cAAA,OAAO,EAAE,mBAAM;AACf,gBAAA,MAAI,CAACM,OAAL;;AACAnE,gBAAAA,QAAQ,CAACC,EAAT,IAAe,KAAf,GAAuBvB,OAAO,CAACwB,WAAR,CAAoBxB,OAAO,CAACyB,mBAAR,CAA4BC,KAAhD,CAAvB,GAAgF,IAAhF;AACC,eAJE;AAAA,wBAKC,KAAC,IAAD;AAAM,gBAAA,KAAK,EAAE3B,MAAM,CAACwF,SAApB;AAAA;AAAA;AALD,cAfiB;AAAA,YAApB,GAsBQ,IAzFT;AAAA;AAJA,QADD;AAkGA;;;;EA3c+B1F,S;;SAAZO,G","sourcesContent":["import React, { Component } from 'react';\nimport {\n\tStatusBar\n} from 'expo-status-bar';\nimport {\n\tStyleSheet,\n\tText,\n\tView,\n\tTouchableOpacity,\n\tPlatform,\n} from 'react-native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport {styles} from './styles.tsx';\nimport * as Haptics from 'expo-haptics';\nimport Maths from './maths.tsx';\n\nvar trigMode = 'Deg'\nvar maths = new Maths(trigMode)\nexport default class App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tANS: null,\n\t\t\tansArr: [],\n\t\t\tinv: false,\n\t\t\trender: false,\n\t\t\tfirstRound: 10,\n\t\t\tcurrent: '',\n\t\t\tanswer: '',\n\t\t\tmap: {\n\t\t\t\t'--': '+',\n\t\t\t\t'++': '+',\n\t\t\t\t'sin(': '* maths.sin(',\n\t\t\t\t'cos(': '* maths.cos(',\n\t\t\t\t'tan(': '* maths.tan(',\n\t\t\t\t'sin-1(': '* maths.sinInv(',\n\t\t\t\t'cos-1(': '* maths.cosInv(',\n\t\t\t\t'tan-1(': '* maths.tanInv(',\n\t\t\t\t'÷': '/',\n\t\t\t\t'log': '* maths.log',\n\t\t\t\t'ln': '* maths.ln',\n\t\t\t\t'√': '* Math.sqrt',\n\t\t\t\t'×': '* ',\n\t\t\t\t'e': '* Math.E * ',\n\t\t\t\t'π': '* Math.PI * ',\n\t\t\t\t',': '',\n\t\t\t\t'%': '/100 *',\n\t\t\t\t'ANS': 'this.state.ANS'\t\n\t\t\t},\n\t\t\topers: [\n\t\t\t\t'+',\n\t\t\t\t'×', '÷',\n\t\t\t\t'(', 'MOD'\n\t\t\t],\n\t\t\tinner: [\n\t\t\t\t'log', 'ln',\n\t\t\t\t'sin', 'cos',\n\t\t\t\t'tan', '√',\n\t\t\t\t'%'\n\t\t\t],\n\t\t\terrorNames:[\n\t\t\t\t'undefined',\n\t\t\t\t'Syntax Error',\n\t\t\t\t'Math Error',\n\t\t\t\t'NaN'\n\t\t\t]\n\t\t};\n\t}\n\ttouch(stylesButton, stylesText, innerText, command) {\n\t\treturn (\n\t\t\t<TouchableOpacity style={stylesButton} onPress={() => {\n\t\t\tPlatform.OS != 'web' ? Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light) : null;\n\t\t\tthis.appNum(command);\n\t\t\t}}>\n\t\t\t\t<Text style={stylesText}>{innerText}</Text>\n\t\t\t</TouchableOpacity>\n\t\t);\n\t}\n\tfactorial(x: number ) : number {\n\t\tx = parseFloat(x);\n\t\tif (x > 170 || !Number.isInteger(x)) return 'undefined';\n\t\telse if (x == 0 || x == 1) return 1;\n\t\tlet isNegative: number = 1;\n\t\tif (x < 0) isNegative = -1;\n\t\tfor (let i = x - 1; i > 1; i--) {\n\t\t\tx *= i;\n\t\t}\n\t\treturn x * isNegative;\n\t}\n\tappNum(x: any) : void {\n\t\tif (this.state.current == '' && (x == '!' || x == '%')) return;\n\t\tif ((this.state.current == '' && \n\t\t(this.state.opers.includes(x) && x != '(')) ||\n\t\tthis.state.errorNames.includes(this.state.current)) return;\n\t\tif (!isNaN(parseFloat(x)) &&\n\t\tthis.state.current.slice(-1) == '0' &&\n\t\t((isNaN(parseFloat(this.state.current[this.state.current.length - 2])) && \n\t\tthis.state.current[this.state.current.length - 2] != '.')))\n\t\t{\n\t\t\tthis.setState({current: this.state.current.slice(0, -1) + x.toString()});\n\t\t\tthis.compute(this.state.current.slice(0, -1) + x.toString());\n\t\t\treturn;\n\t\t}\n\t\tif (x == '.') {\n\t\t\tif (this.state.current == '' ||\n\t\t\t(this.state.opers.includes(this.state.current.slice(-1)) ||\n\t\t\tthis.state.current.slice(-1) == '-')) \n\t\t\t{\n\t\t\t\tthis.setState({current: this.state.current + '0.'});\n\t\t\t\tthis.compute(this.state.current + '0.');\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tlet len = this.state.current.length;\n\t\t\t\tfor (let i = len; i >= 0; i--) {\n\t\t\t\t\tif (this.state.opers.includes(this.state.current[i]) || \n\t\t\t\t\tthis.state.current[i] == '-') break;\n\t\t\t\t\telse if (this.state.current[i] == '.') return;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (this.state.opers.includes(this.state.current.slice(-1)) &&\n\t\tthis.state.opers.includes(x)) return;\n\t\telse if ((this.state.opers.includes(x) || x == '-') &&\n\t\tthis.state.current.slice(-2) == '--') return;\n\t\telse {\n\t\t\tthis.setState({current: this.state.current + x.toString()});\n\t\t\tthis.compute(this.state.current + x.toString());\n\t\t}\n\t}\n\tcom(num: string) : string {\n\t\tif (isNaN(num) ||\n\t\t\tnum == '' ||\n\t\t\t(num.includes('e+') ||\n\t\t\t\tnum.includes('e-'))) {\n\t\t\treturn num;\n\t\t}\n\t\tif (num.includes('.')) {\n\t\t\tlet firstHalf = (num.split('.')[0])\n\t\t\t\t.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','); // Can't use localeString because of android\n\t\t\tlet secondHalf = num.split('.')[1];\n\t\t\treturn `${firstHalf}.${secondHalf}`;\n\t\t} else {\n\t\t\treturn num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\t\t}\n\t}\n\tcomNums(eq: string) : string {\n\t\teq = eq.replace(/,/g, '');\n\t\tlet num = '';\n\t\tlet len: number = eq.length;\n\t\tfor (let i: number = 0; i < len; i++) {\n\t\t\tif (Number.isInteger(parseFloat(eq[i]))) {\n\t\t\t\tnum += eq[i];\n\t\t\t\tfor (let j: number = 1; j < len; j++) {\n\t\t\t\t\tif (Number.isInteger(parseInt(eq[i + j])) ||\n\t\t\t\t\t\teq[i + j] == '.') {\n\t\t\t\t\t\tnum += eq[i + j];\n\t\t\t\t\t} else break;\n\t\t\t\t}\n\t\t\t\teq = eq.replace(num, this.com(num));\n\t\t\t\ti += num.length + Math.floor(num.length / 4);\n\t\t\t\tnum = '';\n\t\t\t}\n\t\t}\n\t\treturn eq;\n\t}\n\tinverse() : void {\n\t\tlet array: string[] = this.state.inner;\n\t\tfor (let i = 0; i < this.state.inner.length; i++) {\n\t\t\tswitch (array[i]) {\n\t\t\t\tcase 'sin':\n\t\t\t\tcase 'cos':\n\t\t\t\tcase 'tan':\n\t\t\t\t\tarray[i] += '-1';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'sin-1':\n\t\t\t\tcase 'cos-1':\n\t\t\t\tcase 'tan-1':\n\t\t\t\t\tarray[i] = array[i].slice(0, -2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'log':\n\t\t\t\t\tarray[i] = '10^';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '10^':\n\t\t\t\t\tarray[i] = 'log';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ln':\n\t\t\t\t\tarray[i] = 'e^';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'e^':\n\t\t\t\t\tarray[i] = 'ln';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '√':\n\t\t\t\t\tarray[i] = '^2';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '^2':\n\t\t\t\t\tarray[i] = '√';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '%':\n\t\t\t\t\tarray[i] = 'MOD';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tarray[i] = '%';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis.setState({inner: array});\n\t}\n\tradOrDeg() : void {\n\t\ttrigMode = trigMode == 'Deg' ? 'Rad' : 'Deg';\n\t\tmaths = new Maths(trigMode)\n\t\tthis.compute(this.state.current);\n\t}\n\treverseString(eq: string) : string {\n\t\tlet New: string = ''\n\t\tlet len: number = eq.length - 1;\n\t\tfor (let i: number = len; i >= 0; i--) {\n\t\t\tNew += eq[i];\n\t\t}\n\t\treturn New;\n\t}\n\tchange(eq: string) : string {\n\t\teq = this.bigReplace(eq);\n\t\twhile (eq.includes('* *')) {\n\t\t\teq = eq.replace('* *', '*') //Have to do this because the /* */g creates a comment\n\t\t}\n\t\tlet nums: string;\n\t\tconst allow = [\n\t\t\t'e','+',\n\t\t\t'-','.','E'\n\t\t];\n\t\twhile (eq.includes('!') || \n\t\teq.includes('%')) \n\t\t{\n\t\t\tlet len = eq.length;\n\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\tif (eq[i] == '!') {\n\t\t\t\t\tnums = '';\n\t\t\t\t\tfor (let x = 1; x <= i; x++) {\n\t\t\t\t\t\tif (isNaN(parseInt(eq[i - x])) &&\n\t\t\t\t\t\t!allow.includes(eq[i - x]))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnums += eq[i - x];\n\t\t\t\t\t}\n\t\t\t\t\tnums = this.reverseString(nums);\n\t\t\t\t\teq = eq.replace(nums + '!', this.factorial(nums))\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\teq = eq.replace(/MOD/g, '%');\n\t\tfor (let i = 0; i < eq.length; i++) {\n\t\t\tif (eq[i] == '*') {\n\t\t\t\tif (this.state.opers.includes(eq[i - 1]) &&\n\t\t\t\t(eq[i - 1]) != '*' || i == 0) {\n\t\t\t\t\teq = eq.slice(0, i) + eq.slice(i + 1);\n\t\t\t\t} else if ((this.state.opers.includes(eq[i + 1]) &&\n\t\t\t\teq[i + 1] != '(') &&\n\t\t\t\teq[i + 1] != '*') {\n\t\t\t\t\teq = eq.slice(0, i) + eq.slice(i + 1);\n\t\t\t\t}\n\t\t\t} else if (eq[i] == '(') {\n\t\t\t\tif (!isNaN(eq[i - 1])) {\n\t\t\t\t\teq = eq.slice(0, i) + '* (' + eq.slice(i + 1)\n\t\t\t\t\ti += 3;\n\t\t\t\t}\n\t\t\t} else if (eq[i] == ')') {\n\t\t\t\tif (!isNaN(eq[i - 1]) &&\n\t\t\t\teq[i ]) {\n\t\t\t\t\teq = eq.slice(0, i) + ') *' + eq.slice(i + 1)\n\t\t\t\t\ti += 3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (eq.slice(-1) == '*') eq = eq.slice(0, -1)\n\t\tif (eq.slice(-2) == '* ') eq = eq.slice(0, -2);\n\t\twhile (eq.includes('***') || \n\t\teq.includes('(*') ||\n\t\teq.includes('* /*')) {\n\t\t\teq = eq.replace('***', '**')\n\t\t\teq = eq.replace('(*', '(')\n\t\t\teq = eq.replace('* /*', '/')\n\t\t}\n\t\teq = eq.replace('^', '**');\n\t\talert(eq);\n\t\treturn eq;\n\t}\n\tbigReplace(eq: string) : string {\n\t\tlet New: string = eq;\n\t\tfor (let value in this.state.map) {\n\t\t\tif (!this.state.map.hasOwnProperty(value)) continue;\n\t\t\tNew = New.split(value).join(this.state.map[value]);\n\t\t}\n\t\treturn New;\n\t}\n\tAC() : void {\n\t\tthis.setState({current: '', answer: ''})\n\t}\n\tDEL() : void {\n\t\tif (this.state.errorNames.includes(this.state.current)) \n\t\t\tAC();\n\t\telse {\n\t\t\tthis.setState({current: this.state.current.slice(0, -1)});\n\t\t\tthis.compute(this.state.current.slice(0, -1));\n\t\t}\n\t}\n\tshowAdv() : void {\n\t\tthis.setState({render: !this.state.render});\n\t\tthis.setState({firstRound: this.state.firstRound == 10 ? 0 : 10})\n\t}\n\tans(eq: string) : void {\n\t\tthis.setState({ANS: eq});\n\t\tlet array: string[] = this.state.ansArr;\n\t\tarray.push(this.state.current);\n\t\tthis.setState({ansArr: array});\n\t}\n\tcompute(current: string) : void {\n\t\tlet eq: string = this.change(current);\n\t\tif (eq == 'undefined') {\n\t\t\tthis.setState({answer: ''});\n\t\t\treturn;\n\t\t}\n\t\twhile (eq.split('(').length > eq.split(')').length) {\n\t\t\teq += ')';\n\t\t}\n\t\ttry {\n\t\t\teq = eval(eq).toString();\n\t\t\tif (eq == 'undefined') {\n\t\t\t\tthis.setState({answer: eq});\n\t\t\t\tthis.setState({current: this.comNums(current)});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\teq = (Number(eq).toPrecision()).toString();\n\t\t\tif (eq.includes('.') &&\n\t\t\teq.split('.')[1].length > 11)\n\t\t\t{\n\t\t\t\tlet secondHalf = eq.split('.')[1];\n\t\t\t\teq = parseFloat(eq).toFixed(13);\n\t\t\t\teq = eq.toString();\n\t\t\t\twhile ((eq.slice(-1) == '0' ||\n\t\t\t\teq.slice(-1) == '.') && eq.length > 1) \n\t\t\t\t{\n\t\t\t\t\teq = eq.slice(0, -1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (eq == 'NaN' || eq.includes('function')) {\n\t\t\t\tthis.setState({answer: ''});\n\t\t\t\tthis.setState({current: this.comNums(current)});\n\t\t\t} else {\n\t\t\t\tthis.setState({answer: this.com(eq).replace('e+', 'E+')\n\t\t\t\t.replace('e-', 'E-')});\n\t\t\t\tthis.setState({current: this.comNums(current)});\n\t\t\t}\n\t\t} catch(err) {\n\t\t\t//alert(err.message) // for debugging\n\t\t\tif (!this.state.opers.includes(current.slice(-1))) {\n\t\t\t\tthis.setState({answer: ''});\n\t\t\t}\n\t\t}\n\t}\n\tequals(eq: string) : void {\n\t\twhile (eq.split('(').length > eq.split(')').length) {\n\t\t\teq += ')';\n\t\t}\n\t\tif (eq == '') return;\n\t\telse {\n\t\t\ttry {\n\t\t\t\tif (this.state.answer == '') eval(this.change(eq));\n\t\t\t\tthis.setState({current: this.state.answer});\n\t\t\t\tthis.setState({answer: ''});\n\t\t\t\tthis.ans(this.state.answer);\n\t\t\t} catch(err) {\n\t\t\t\tthis.setState({current: 'Syntax Error'});\n\t\t\t\tthis.setState({answer: ''});\n\t\t\t}\n\t\t}\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<LinearGradient \n\t\t\tcolors={['#43c6ac', '#191654']}\n\t\t\tstyle={styles.gradient}\n\t\t\tstart={[0.0, 0.5]} end={[1.0, 0.5]}>\n\t\t\t<View style={styles.container}>\n    \t\t<View style={styles.screen}>\n    \t\t\t<Text style={styles.answer}>{this.state.answer}</Text>\n\t\t\t\t<Text style={styles.current}>{this.state.current}</Text>\n    \t\t</View>\n    \t\t<View style={styles.row}>\n    \t\t\t<TouchableOpacity style={styles.span2} onPress={() => {\n    \t\t\tPlatform.OS != 'web' ? Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light) : null;\n    \t\t\tthis.AC();\n    \t\t\t}}>\n\t\t  \t\t\t<Text style={styles.text}>AC</Text>\n    \t\t\t</TouchableOpacity>\n    \t\t\t<TouchableOpacity style={styles.button} onPress={() => {\n    \t\t\tPlatform.OS != 'web' ? Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light) : null;\n    \t\t\tthis.DEL();\n    \t\t\t}}>\n    \t\t\t\t<Text style={styles.text}>DEL</Text>\n    \t\t\t</TouchableOpacity>\n    \t\t\t{this.touch(styles.button, styles.text, '×', '×')}\n    \t\t</View>\n    \t\t<View style={styles.row}>\n    \t\t\t{this.touch(styles.button, styles.text, '1', 1)}\n    \t\t\t{this.touch(styles.button, styles.text, '2', 2)}\n    \t\t\t{this.touch(styles.button, styles.text, '3', 3)}\n    \t\t\t{this.touch(styles.button, styles.text, '+', '+')}\n\t\t\t</View>\n\t\t\t<View style={styles.row}>\n\t\t\t\t{this.touch(styles.button, styles.text, '4', 4)}\n\t\t\t\t{this.touch(styles.button, styles.text, '5', 5)}\n\t\t\t\t{this.touch(styles.button, styles.text, '6', 6)}\n\t\t\t\t{this.touch(styles.button, styles.text, '-', '-')}\n\t\t\t</View>\n\t\t\t<View style={styles.row}>\n\t\t\t\t{this.touch(styles.button, styles.text, '7', 7)}\n\t\t\t\t{this.touch(styles.button, styles.text, '8', 8)}\n\t\t\t\t{this.touch(styles.button, styles.text, '9', 9)}\n\t\t\t\t{this.touch(styles.button, styles.text, '÷', '÷')}\n\t\t\t</View>\n\t\t\t<View style={styles.row}>\n\t\t\t\t{this.touch([styles.button, { borderBottomLeftRadius: this.state.firstRound}], styles.text, '.', '.')}\n    \t\t\t{this.touch(styles.button, styles.text, '0', 0)}\n    \t\t\t<TouchableOpacity\n\t\t\t\tstyle={[styles.span2, { borderBottomRightRadius: this.state.firstRound }]}\n\t\t\t\tonPress={() => {\n\t\t\t\tthis.equals(this.state.current)\n\t\t\t\tPlatform.OS != 'web' ? Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light) : null;\n\t\t\t\t}}\n\t\t\t\tonLongPress={() => this.showAdv()}>\n    \t\t\t\t<Text style={styles.text}>=</Text>\n\t\t\t\t</TouchableOpacity>\n\t\t\t</View>\n\t\t\t{this.state.render ? <View style={styles.row}>\n\t\t\t\t{this.touch(styles.small, styles.textSmall, '(', '(')}\n    \t\t\t{this.touch(styles.small, styles.textSmall, ')', ')')}\n    \t\t\t{this.touch(styles.small, styles.textSmall, this.state.inner[0], \n    \t\t\tthis.state.inner[0] == 'log' ? 'log(' : '10^')}\n    \t\t\t{this.touch(styles.small, styles.textSmall, this.state.inner[1], \n    \t\t\tthis.state.inner[1] == 'ln' ? 'ln(' : 'e^')}\n    \t\t\t{this.touch(styles.small, styles.textSmall, this.state.inner[2], \n    \t\t\tthis.state.inner[2] + '(')}\n    \t\t\t{this.touch(styles.small, styles.textSmall, this.state.inner[3], \n    \t\t\tthis.state.inner[3] + '(')}\n    \t\t\t{this.touch(styles.small, styles.textSmall, this.state.inner[4], \n    \t\t\tthis.state.inner[4] + '(')}\n    \t\t\t{this.touch(styles.small, styles.textSmall, this.state.inner[5], \n    \t\t\tthis.state.inner[5] ==  '√' ? '√(' : '^2')}\n\t\t\t</View> : null}\n\t\t\t{this.state.render ? <View style={styles.row}>\n\t\t\t\t{this.touch([styles.small, { borderBottomLeftRadius: 10}], styles.textSmall, '^', '^')}\n\t\t\t\t{this.touch(styles.small, styles.textSmall, 'π', 'π')}\n\t\t\t\t{this.touch(styles.small, styles.textSmall, 'e', 'e')}\n    \t\t\t{this.touch(styles.small, styles.textSmall, '!', '!')}\n    \t\t\t{this.touch(styles.small, styles.textSmall, this.state.inner[6], \n    \t\t\tthis.state.inner[6] == '%' ? '%' : 'MOD')}\n    \t\t\t{this.touch(styles.small, styles.textSmall, 'ANS', 'ANS')}\n    \t\t\t<TouchableOpacity style={styles.small}\n    \t\t\tonPress={() => {\n    \t\t\tthis.radOrDeg()\n    \t\t\tPlatform.OS != 'web' ? Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light) : null;\n    \t\t\t}}>\n    \t\t\t\t<Text style={styles.textSmall}>{trigMode}</Text>\n    \t\t\t</TouchableOpacity>\n    \t\t\t<TouchableOpacity style={[styles.small, {borderBottomRightRadius: 10}]}\n\t\t\t\tonPress={() => {\n\t\t\t\tthis.inverse()\n\t\t\t\tPlatform.OS != 'web' ? Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light) : null;\t\n\t\t\t\t}}>\n    \t\t\t\t<Text style={styles.textSmall}>Inv</Text>\n    \t\t\t</TouchableOpacity>\n\t\t\t</View>: null}\n\t\t\t</View>\n\t\t\t</LinearGradient>\n\t\t);\n\t}\n}"]},"metadata":{},"sourceType":"module"}